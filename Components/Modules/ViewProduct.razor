<div class="live__product">
    <div class="row">
        <div class="col-lg-8 col-md-8 col-sm-8">
            <div class="section-title">
                <h4>@Title</h4>
            </div>
        </div>
        <div class="col-lg-4 col-md-4 col-sm-4">
            <div class="btn__all">
                <a href="groupp/@Title" class="primary-btn">View All <span class="arrow_right"></span></a>
            </div>
        </div>
    </div>
    <div class="row">
        @foreach (var item in lstProduct)
        {
            <div class="col-lg-4 col-md-6 col-sm-6">
                <div class="product__item">
                    <a href="@item.TagName">
                        <div class="product__item__pic set-bg">
                            <img src="@item.ImageURL" alt="@item.Name" style="width: 100%;" />
                            @switch (item.IsValue)
                            {
                                case (int)EnumValue.Hot:
                                    <div class="ep">HOT</div>
                                    break;
                                case (int)EnumValue.Top:
                                    <div class="ep" style="background: #c0ce00;">TOP</div>
                                    break;
                            }
                            <div class="comment">@item.CategoryName</div>
                            @if (item.IsLimited)
                            {
                                <div class="view">Limited</div>
                            }
                        </div>
                        <div class="product__item__text">
                            <h5>@item.Name</h5>
                        </div>
                    </a>
                </div>
            </div>
        }
    </div>
</div>

@code {
    [Parameter]
    public string? Title { get; set; }

    [Parameter]
    public int? CategoryId { get; set; }

    [Parameter]
    public int? Count { get; set; }

    private List<Product>? lstProduct;

    protected override async Task OnInitializedAsync()
    {
        lstProduct = new List<Product>();
        if (CategoryId != null)
        {
            if (CategoryId == 0)
            {
                lstProduct.Add(new Product
                    {
                        ProductId = 1,
                        Name = "The Seven Deadly Sins: Wrath of the Gods",
                        TagName = "product/" + "The Seven Deadly Sins: Wrath of the Gods",
                        CategoryName = "NXB Kim Đồng",
                        ImageURL = "img/trending/trend-1.jpg",
                        IsValue = (int)EnumValue.Hot,
                        IsLimited = false
                    });
                lstProduct.Add(new Product
                    {
                        ProductId = 2,
                        Name = "Gintama Movie 2: Kanketsu-hen - Yorozuya yo Eien",
                        TagName = "product/" + "Gintama Movie 2: Kanketsu-hen - Yorozuya yo Eien",
                        ImageURL = "img/trending/trend-2.jpg",
                        IsValue = (int)EnumValue.Top,
                        IsLimited = false
                    });
                lstProduct.Add(new Product
                    {
                        ProductId = 3,
                        Name = "Shingeki no Kyojin Season 3 Part 2",
                        TagName = "product/" + "Shingeki no Kyojin Season 3 Part 2",
                        CategoryName = "NXB Kim Đồng",
                        ImageURL = "img/trending/trend-3.jpg",
                        IsValue = (int)EnumValue.Top,
                        IsLimited = false
                    });
                lstProduct.Add(new Product
                    {
                        ProductId = 4,
                        Name = "Fullmetal Alchemist: Brotherhood",
                        TagName = "product/" + "Fullmetal Alchemist: Brotherhood",
                        CategoryName = "NXB Trẻ",
                        ImageURL = "img/trending/trend-4.jpg",
                        IsValue = (int)EnumValue.None,
                        IsLimited = false
                    });
                lstProduct.Add(new Product
                    {
                        ProductId = 5,
                        Name = "Shiratorizawa Gakuen Koukou",
                        TagName = "product/" + "Shiratorizawa Gakuen Koukou",
                        CategoryName = "NXB Kim Đồng",
                        ImageURL = "img/trending/trend-5.jpg",
                        IsValue = (int)EnumValue.None,
                        IsLimited = true
                    });
                lstProduct.Add(new Product
                    {
                        ProductId = 6,
                        Name = "Code Geass: Hangyaku no Lelouch R2",
                        TagName = "product/" + "Code Geass: Hangyaku no Lelouch R2",
                        CategoryName = "NXB Trẻ",
                        ImageURL = "img/trending/trend-6.jpg",
                        IsValue = (int)EnumValue.Hot,
                        IsLimited = true
                    });
            }
            else
            {
                lstProduct.Add(new Product
                    {
                        ProductId = 1,
                        Name = "The Seven Deadly Sins: Wrath of the Gods",
                        TagName = "product/" + "The Seven Deadly Sins: Wrath of the Gods",
                        CategoryName = "NXB Kim Đồng",
                        ImageURL = "img/popular/popular-1.jpg",
                        IsValue = (int)EnumValue.Hot,
                        IsLimited = false
                    });
                lstProduct.Add(new Product
                    {
                        ProductId = 2,
                        Name = "Gintama Movie 2: Kanketsu-hen - Yorozuya yo Eien",
                        TagName = "product/" + "Gintama Movie 2: Kanketsu-hen - Yorozuya yo Eien",
                        ImageURL = "img/popular/popular-2.jpg",
                        IsValue = (int)EnumValue.Top,
                        IsLimited = false
                    });
                lstProduct.Add(new Product
                    {
                        ProductId = 3,
                        Name = "Shingeki no Kyojin Season 3 Part 2",
                        TagName = "product/" + "Shingeki no Kyojin Season 3 Part 2",
                        CategoryName = "NXB Kim Đồng",
                        ImageURL = "img/popular/popular-3.jpg",
                        IsValue = (int)EnumValue.Top,
                        IsLimited = false
                    });
                lstProduct.Add(new Product
                    {
                        ProductId = 4,
                        Name = "Fullmetal Alchemist: Brotherhood",
                        TagName = "product/" + "Fullmetal Alchemist: Brotherhood",
                        CategoryName = "NXB Trẻ",
                        ImageURL = "img/popular/popular-4.jpg",
                        IsValue = (int)EnumValue.None,
                        IsLimited = false
                    });
                lstProduct.Add(new Product
                    {
                        ProductId = 5,
                        Name = "Shiratorizawa Gakuen Koukou",
                        TagName = "product/" + "Shiratorizawa Gakuen Koukou",
                        CategoryName = "NXB Kim Đồng",
                        ImageURL = "img/popular/popular-5.jpg",
                        IsValue = (int)EnumValue.None,
                        IsLimited = true
                    });
                lstProduct.Add(new Product
                    {
                        ProductId = 6,
                        Name = "Code Geass: Hangyaku no Lelouch R2",
                        TagName = "product/" + "Code Geass: Hangyaku no Lelouch R2",
                        CategoryName = "NXB Trẻ",
                        ImageURL = "img/popular/popular-6.jpg",
                        IsValue = (int)EnumValue.Hot,
                        IsLimited = true
                    });
            }
        }
        await Task.Delay(0);
    }

    public class Product
    {
        public int ProductId { get; set; }

        public string? Name { get; set; }

        public string? TagName { get; set; }

        public string? ImageURL { get; set; }

        public int IsValue { get; set; }

        public string? PublishName { get; set; }

        public int CategoryId { get; set; }

        public string? CategoryName { get; set; }

        public bool IsLimited { get; set; }
    }

    public enum EnumValue
    {
        None = 0,
        Hot = 1,
        Top = 2
    }
}
